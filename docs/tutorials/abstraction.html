<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-22 Wed 11:38 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tutorial: Abstractions</title>
<meta name="author" content="Connor Redfern" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
</style>
<link rel="stylesheet" href="../glyph-style.css" type="text/css"/>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Tutorial: Abstractions</h1>
<div style="text-align:right">
<p>
<a href="../index.html">Glyph</a> / <a href="index.html">Tutorials</a> / Abstractions
</p>
</div>

<div id="outline-container-orgf0261fc" class="outline-2">
<h2 id="orgf0261fc">Motivation</h2>
<div class="outline-text-2" id="text-orgf0261fc">
<p>
In Programming, abstraction refers to the process of hiding information about
something for the purpose of writing code which works in a wider variety of
scenarios.
</p>

<p>
As an example, we'll start with an algorithm for sorting a list of integers, and
make it progressively more abstract. This algorithm is relatively simple, and is
composed of two parts
</p>
<ul class="org-ul">
<li><code>Insert</code> takes a number and a list, which we assume is ordered. It then
inserts the number into the list so as to preserve the ordering. For example,
<code>insert 2 ⦗1 3 4⦘</code> will insert the '2' <code>⦗1 2 3 4⦘</code>.</li>
<li>When given a list, the sort function works as follows: 
<ul class="org-ul">
<li>If the list is empty, then it is sorted. No work needs to be done</li>
<li>If the list is non-empty, we take an element off and <code>sort</code> the rest of the
list. Then, we use <code>insert</code> to put this element back into the list. As
<code>insert</code> makes sure it places the element such that the list remains sorted,
we can be confident the output will be sorted.</li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>insert : &#8484; &#8594; <span style="color: #d24b83;">List &#8484;</span> &#8594; <span style="color: #d24b83;">List &#8484;</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>insert n l &#8796;
  <span style="color: #9d81ba;">(</span><span style="color: #738FD7;">match</span> l
    <span style="color: #4d9391;">(</span>nil &#8594; n :: nil<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span>x :: xs<span style="color: #a0586c;">)</span> &#8594; <span style="color: #738FD7;">if</span> <span style="color: #a0586c;">(</span>n &#8804; x<span style="color: #a0586c;">)</span>
                    <span style="color: #a0586c;">(</span>n :: x :: xs<span style="color: #a0586c;">)</span>
                    <span style="color: #a0586c;">(</span>x :: insert n xs<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #807f96;">(</span>sort : <span style="color: #d24b83;">List &#8484;</span> &#8594; <span style="color: #d24b83;">List &#8484;</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>sort list &#8796; <span style="color: #738FD7;">match</span> list
  <span style="color: #9d81ba;">(</span>nil &#8594; nil<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x :: xs &#8594; insert x <span style="color: #4d9391;">(</span>sort xs<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
This is a perfectly fine sorting algorithm, but it is only applicable for
integers. What if we wanted to sort a list of strings? Well, then we'd need to
re-write as:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>str-insert : <span style="color: #d24b83;">String</span> &#8594; <span style="color: #d24b83;">List String</span> &#8594; <span style="color: #d24b83;">List String</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>str-insert s l &#8796;
  <span style="color: #9d81ba;">(</span><span style="color: #738FD7;">match</span> l
    <span style="color: #4d9391;">(</span>nil &#8594; s :: nil<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>x :: xs &#8594; <span style="color: #738FD7;">if</span> <span style="color: #a0586c;">(</span>s &#8804; x<span style="color: #a0586c;">)</span>
                  <span style="color: #a0586c;">(</span>s :: x :: xs<span style="color: #a0586c;">)</span>
                  <span style="color: #a0586c;">(</span>x :: insert s xs<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span>

<span style="color: #4d9391;">(</span>str-sort : <span style="color: #d24b83;">List String</span> &#8594; <span style="color: #d24b83;">List String</span><span style="color: #4d9391;">)</span>
<span style="color: #4d9391;">(</span>str-sort list &#8796; <span style="color: #738FD7;">match</span> list
    <span style="color: #a0586c;">(</span>nil &#8594; nil<span style="color: #a0586c;">)</span>
    <span style="color: #a0586c;">(</span>x :: xs &#8594; insert x <span style="color: #53859d;">(</span>sort xs<span style="color: #53859d;">)</span><span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span>
</pre>
</div>

<p>
What you'll notice is that we're repeating work we've already done :(. The
problem is that we are sorting lists of <i>concrete</i> types like ℤ or
String. However, the only thing we end up doing with them is compare them with
<code>≤</code>. Ideally, our sorting algorithm can say "take a List A where we can compare
any two values in A with ≤, and I'll give you a sorted list of A".
</p>

<p>
This is actually quite easy to do: we add an extra argument to <code>sort</code> - a
function to compare the elements with.
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>abs-insert : &#8704; <span style="color: #9d81ba;">{</span><span style="color: #d24b83;">A</span><span style="color: #9d81ba;">}</span> &#8594; <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">List A</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>abs-insert _&#8804;_ v l &#8796;
  <span style="color: #9d81ba;">(</span><span style="color: #738FD7;">match</span> l
    <span style="color: #4d9391;">(</span>nil &#8594; v :: nil<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>x :: xs &#8594; <span style="color: #738FD7;">if</span> <span style="color: #a0586c;">(</span>v &#8804; x<span style="color: #a0586c;">)</span>
                  <span style="color: #a0586c;">(</span>v :: x :: xs<span style="color: #a0586c;">)</span>
                  <span style="color: #a0586c;">(</span>x :: insert v xs<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #807f96;">(</span>abs-sort : &#8704; <span style="color: #9d81ba;">{</span><span style="color: #d24b83;">A</span><span style="color: #9d81ba;">}</span> &#8594; <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span> &#8594; <span style="color: #d24b83;">List A</span> &#8594; <span style="color: #d24b83;">List A</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>abs-sort _&#8804;_ list &#8796; <span style="color: #738FD7;">match</span> list
    <span style="color: #9d81ba;">(</span>nil &#8594; nil<span style="color: #9d81ba;">)</span>
    <span style="color: #9d81ba;">(</span>x :: xs &#8594; abs-insert _&#8804;_ x <span style="color: #4d9391;">(</span>sort _&#8804;_ xs<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #807f96;">(</span>sort <span style="color: #d24b83;">String</span> <span style="color: #9d81ba;">(</span>data.string._&#8804;_<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">(</span>list <span style="color: #7CF083;">"a"</span> <span style="color: #7CF083;">"c"</span> <span style="color: #7CF083;">"d"</span> <span style="color: #7CF083;">"b"</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">outputs (list "a" "b" "c" "d")</span>

<span style="color: #807f96;">(</span>sort &#8484; <span style="color: #9d81ba;">(</span>num.int._&#8804;_<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">5</span> <span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">3</span> <span style="color: #cea2ca;">4</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">outputs (list 1 2 3 4 5)</span>
</pre>
</div>

<p>
The cool thing is we can re-purpose our function to also sort in descending
order:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>sort <span style="color: #d24b83;">String</span> <span style="color: #9d81ba;">(</span>data.string._&#8805;_<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">(</span>list <span style="color: #7CF083;">"a"</span> <span style="color: #7CF083;">"c"</span> <span style="color: #7CF083;">"d"</span> <span style="color: #7CF083;">"b"</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">outputs (list "d" "c" "b" "a")</span>

<span style="color: #807f96;">(</span>sort &#8484; <span style="color: #9d81ba;">(</span>num.int._&#8805;_<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">5</span> <span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">3</span> <span style="color: #cea2ca;">4</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">outputs (list 5 4 3 2 1)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org7de0a3f" class="outline-2">
<h2 id="org7de0a3f">Structures &amp; Signatures</h2>
<div class="outline-text-2" id="text-org7de0a3f">
<p>
Recall from the <a href="data.html">data</a> tutorial that signatures give us a way talk about
collections of named values. One application of this is that, by parameterizing
a signature on a type, we can capture some abstract property we want of the
type - like the ability to order them:     
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #d24b83;">Ord</span> : &#119984; &#8594; &#119984;<span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Ord A</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_=_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&lt;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
We can now create structures which satisfy the definition of <code>Ord</code> for different
types A - for example, <code>Int</code> and <code>String</code>:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>num-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span> 
  <span style="color: #9d81ba;">(</span>x = y &#8796;  num.int._=_ x y<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &lt; y &#8796;  num.int._&lt;_ x y<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>str-ord : <span style="color: #d24b83;">Ord String</span><span style="color: #9d81ba;">)</span> 
  <span style="color: #9d81ba;">(</span>x = y &#8796;  data.string._=_ x y<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &lt; y &#8796;  data.string._&lt;_ x y<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
We can then give the <code>sort</code> function an alternative definition:  
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>sort : &#8704; <span style="color: #9d81ba;">{</span><span style="color: #d24b83;">A</span><span style="color: #9d81ba;">}</span> &#8594; <span style="color: #d24b83;">Ord A</span> &#8594; <span style="color: #d24b83;">List A</span> &#8594; <span style="color: #d24b83;">List A</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>sort ord list &#8796; <span style="color: #738FD7;">match</span> list
    <span style="color: #9d81ba;">(</span>nil &#8594; nil<span style="color: #9d81ba;">)</span>
    <span style="color: #9d81ba;">(</span>x :: xs &#8594; abs-insert ord._&#8804;_ x <span style="color: #4d9391;">(</span>sort ord xs<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
And use it like so:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>sort str-ord <span style="color: #9d81ba;">(</span>list  <span style="color: #7CF083;">"acb"</span> <span style="color: #7CF083;">"bac"</span> <span style="color: #7CF083;">"abc"</span><span style="color: #9d81ba;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">returns (list  "abc" "acb" "bac")</span>

<span style="color: #9d81ba;">(</span>sort int-ord <span style="color: #4d9391;">(</span>list <span style="color: #cea2ca;">4</span> <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">3</span> <span style="color: #cea2ca;">2</span><span style="color: #4d9391;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">returns (list  1 2 3 4)</span>
</pre>
</div>


<p>
We might try and take this concept further - how do we define an order on lists?
A good starting point might be something like: 
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>list-ord <span style="color: #4d9391;">{</span><span style="color: #d24b83;">A</span><span style="color: #4d9391;">}</span> : <span style="color: #d24b83;">Ord</span> <span style="color: #4d9391;">(</span><span style="color: #d24b83;">List A</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x = y &#8796; <span style="color: #738FD7;">match</span> <span style="color: #4d9391;">(</span>x, y<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span>x:xs, y:ys<span style="color: #a0586c;">)</span> &#8594; ??<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>_ &#8594; <span style="color: #d24b83;">False</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>x &lt; y &#8796; <span style="color: #738FD7;">match</span> <span style="color: #4d9391;">(</span>x, y<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span>x:xs, y:ys<span style="color: #a0586c;">)</span> &#8594; ??<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span><span style="color: #53859d;">[]</span>, _:_<span style="color: #a0586c;">)</span> &#8594; <span style="color: #d24b83;">True</span><span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>_ &#8594; <span style="color: #d24b83;">False</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
However, we get stuck when we need to compare two non-empty lists - we need a
way of comparing the elements <code>x</code> and <code>y</code>. We can do this by requiring an
ordering for A to be taken as an argument:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>list-ord <span style="color: #4d9391;">{</span><span style="color: #d24b83;">A</span><span style="color: #4d9391;">}</span> <span style="color: #4d9391;">(</span>ord : <span style="color: #d24b83;">Ord A</span><span style="color: #4d9391;">)</span> : <span style="color: #d24b83;">Ord</span> <span style="color: #4d9391;">(</span><span style="color: #d24b83;">List A</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x = y &#8796; <span style="color: #738FD7;">match</span> <span style="color: #4d9391;">(</span>x, y<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span>x:xs, y:ys<span style="color: #a0586c;">)</span> &#8594; <span style="color: #738FD7;">if</span> <span style="color: #a0586c;">(</span>ord._=_ x y<span style="color: #a0586c;">)</span> <span style="color: #a0586c;">(</span>xs = ys<span style="color: #a0586c;">)</span> <span style="color: #d24b83;">False</span><span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>_ &#8594; <span style="color: #d24b83;">False</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>x &lt; y &#8796; <span style="color: #738FD7;">match</span> <span style="color: #4d9391;">(</span>x, y<span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span>x:xs, y:ys<span style="color: #a0586c;">)</span> &#8594; <span style="color: #738FD7;">if</span> <span style="color: #a0586c;">(</span>ord._&lt;_ x y<span style="color: #a0586c;">)</span> <span style="color: #d24b83;">True</span> <span style="color: #a0586c;">(</span>xs &lt; ys<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span><span style="color: #a0586c;">(</span><span style="color: #53859d;">[]</span>, _:_<span style="color: #a0586c;">)</span> &#8594; <span style="color: #d24b83;">True</span><span style="color: #4d9391;">)</span>
    <span style="color: #4d9391;">(</span>_ &#8594; <span style="color: #d24b83;">False</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
We can now sort lists of values:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>sort <span style="color: #9d81ba;">(</span>list-ord int-ord<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">&#10647;</span><span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">2</span><span style="color: #4d9391;">&#10648;</span> <span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">&#10648;</span> <span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">&#10648;</span><span style="color: #9d81ba;">&#10648;</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">returns &#10647;&#10647;1 1&#10648; &#10647;1 2&#10648; &#10647;2 1&#10648;&#10648;</span>
</pre>
</div>
</div>


<div id="outline-container-org4f44a7f" class="outline-3">
<h3 id="org4f44a7f">Why Bother?</h3>
<div class="outline-text-3" id="text-org4f44a7f">
<p>
By switching from a function <code>_≤_ : A → A → Bool</code> to the structure <code>Ord A</code>, it
may seem like we haven't gained much - and indeed, if all we wanted to do was
sort, we probably wouldn't need to bother. However, <code>sort</code> isn't the only
function we will ever write that might want to compare two values. 
</p>

<p>
The <code>Ord</code> structure captures the general idea of some type (set of values) that
can be ordered - given any two values <code>x</code> and <code>y</code>, one of the following is true:
</p>
<ul class="org-ul">
<li><code>x &lt; y</code></li>
<li><code>x = y</code></li>
<li><code>x &gt; y</code></li>
</ul>

<p>
Importantly, this idea is applicable in a wide variety of scenarios:
</p>
<ul class="org-ul">
<li><code>Ord</code> can be used to efficiently implement dictionaries, which are key-value
pairs</li>
<li><code>Ord</code> could be used to implement specific data-structures needed for certain
algorithms, e.g. priority queues.</li>
<li><code>Ord</code> could be used to implement a 'binning' algorithm, which places all
values for which <code>=</code> returns true into the same 'bin'.</li>
<li><code>Ord</code> could be used to implement an algorithm which removes all duplicate
values in a list.</li>
</ul>

<p>
Because of the fact that it captures a general idea (comparable elements),
something similar to <code>Ord</code> is part of the standard library. One of the key parts
of (Good) functional programming is in finding abstractions (like Ord) which are
useful in a broad range of scenarios, but also which can be defined for a large
number of types. In general, it is a good idea to try and reach for an existing
abstraction (or combination of abstractions) before defining your own.
</p>
</div>
</div>

<div id="outline-container-org0576b49" class="outline-3">
<h3 id="org0576b49">Typeclasses</h3>
<div class="outline-text-3" id="text-org0576b49">
<p>
Consider again the code to sort a list of lists
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span>sort <span style="color: #9d81ba;">(</span>list-ord int-ord<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">&#10647;</span><span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">2</span><span style="color: #4d9391;">&#10648;</span> <span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">&#10648;</span> <span style="color: #4d9391;">&#10647;</span><span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">&#10648;</span><span style="color: #9d81ba;">&#10648;</span><span style="color: #807f96;">)</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">returns &#10647;&#10647;1 1&#10648; &#10647;1 2&#10648; &#10647;2 1&#10648;&#10648;</span>
</pre>
</div>

<p>
While this does look (and indeed is) a bit cumbersome, in the typeclasses
tutorial we'll look at ways to give hints to Glyph so it can 'figure out' which
structure to add. This is very similar to the idea of an implicit argument. As a
sneak-peak, you can look at the code below to get an idea of how it might work:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #545c5e;">;; </span><span style="color: #545c5e;">the &#10627;&#10628; brackets can be combined with hints to let glyph 'figure out' what to</span>
<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">give as an argument</span>
<span style="color: #807f96;">(</span>sort : <span style="color: #9d81ba;">{</span><span style="color: #d24b83;">A</span><span style="color: #9d81ba;">}</span> &#8594; <span style="color: #9d81ba;">&#10627;</span><span style="color: #d24b83;">Ord A</span><span style="color: #9d81ba;">&#10628;</span> &#8594; <span style="color: #d24b83;">List A</span> &#8594; <span style="color: #d24b83;">List A</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span>sort <span style="color: #9d81ba;">&#10627;</span>ord<span style="color: #9d81ba;">&#10628;</span> list &#8796; ...<span style="color: #807f96;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">glyph can now figure out an appropriate value for the ord argument</span>
<span style="color: #807f96;">(</span>sort <span style="color: #9d81ba;">(</span>list <span style="color: #4d9391;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">2</span><span style="color: #4d9391;">)</span> <span style="color: #4d9391;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">)</span> <span style="color: #4d9391;">(</span>list <span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">1</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">We can also explicitly provide the value (same as with implicit arguments)</span>
<span style="color: #9d81ba;">(</span>sort <span style="color: #4d9391;">&#10627;</span>list-ord int-ord<span style="color: #4d9391;">&#10628;</span> <span style="color: #4d9391;">(</span>list <span style="color: #a0586c;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">2</span><span style="color: #a0586c;">)</span> <span style="color: #a0586c;">(</span>list <span style="color: #cea2ca;">1</span> <span style="color: #cea2ca;">1</span><span style="color: #a0586c;">)</span> <span style="color: #a0586c;">(</span>list <span style="color: #cea2ca;">2</span> <span style="color: #cea2ca;">1</span><span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1462b3c" class="outline-2">
<h2 id="org1462b3c">Default Values</h2>
<div class="outline-text-2" id="text-org1462b3c">
<p>
A cool feature of structures &amp; signatures is that of <i>default arguments</i>. Take
our <code>Ord</code> signature from earlier:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Ord</span> <span style="color: #4d9391;">(</span><span style="color: #d24b83;">A</span> : &#119984;<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_=_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&lt;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
From these two, we can define any operator we want in the set
\({= , ≠, <, >, ≤, ≥}\). For example, if we want ≠, we can simply do
<code>(x ≠ y ≜ not (x = y))</code>. Similarly, we have <code>(x ≥ y ≜ (x = y) or (y &lt; x))</code> and
so on. However, these can be tedious to write, so we can instead write a more
complex signature with <i>default</i> values: 
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #d24b83;">Ord</span> : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span><span style="color: #807f96;">)</span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Ord A</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_=_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x = y &#8796; not <span style="color: #4d9391;">(</span>x &#8800; y<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>_&#8800;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &#8800; y &#8796; not <span style="color: #4d9391;">(</span>x = y<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>_&lt;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &lt; y &#8796; <span style="color: #4d9391;">(</span>x &gt; y<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>_&gt;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>defaults: 
     <span style="color: #4d9391;">(</span>x &gt; y &#8796; x &lt; y<span style="color: #4d9391;">)</span>
     <span style="color: #4d9391;">(</span>x &gt; y &#8796; not <span style="color: #a0586c;">(</span>x &#8804; y<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span>
     <span style="color: #4d9391;">(</span>x &gt; y &#8796; <span style="color: #a0586c;">(</span>x &#8805; y<span style="color: #a0586c;">)</span> &#8743; <span style="color: #a0586c;">(</span>x &#8800; y<span style="color: #a0586c;">)</span><span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>_&#8805;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &#8805; y &#8796; <span style="color: #4d9391;">(</span>x = y<span style="color: #4d9391;">)</span> or <span style="color: #4d9391;">(</span>x &gt; y<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>

  <span style="color: #9d81ba;">(</span>_&#8804;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">Bool</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>x &#8804; y &#8796; <span style="color: #4d9391;">(</span>x = y<span style="color: #4d9391;">)</span> or <span style="color: #4d9391;">(</span>x &lt; y<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
This means this allows us to provide a minimal set of functions, and have Glyph
"figure out" the rest - for example, consider the below definitions:
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #545c5e;">;; </span><span style="color: #545c5e;">valid : Glyph can figure out all values </span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>int-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_=_ &#8796;  num.int._=_<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&lt;_ &#8796;  num.int._=_<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">valid : Glyph can figure out all values </span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>int-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&#8800;_ &#8796;  num.int._&#8800;_<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&gt;_ &#8796;  num.int._&gt;_<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">valid : Glyph can figure out all values </span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>int-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&#8800;_ &#8796;  num.int._&#8800;_<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&gt;_ &#8796;  num.int._&gt;_<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">invalid : defaults for = and &#8800; depend on each other, so glyph needs at least one.</span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>int-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&#8805;_ &#8796;  num.int._&#8805;_<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&gt;_ &#8796;  num.int._&gt;_<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>

<span style="color: #545c5e;">;; </span><span style="color: #545c5e;">invalid : defaults for &lt; and &gt; depend on each other, so glyph needs at least one.</span>
<span style="color: #807f96;">(</span><span style="color: #738FD7;">structure</span> <span style="color: #9d81ba;">(</span>int-ord : <span style="color: #d24b83;">Ord Int</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&#8805;_ &#8796;  num.int._&#8805;_<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_=_ &#8796;  num.int._=_<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
And so on. 
</p>
</div>
</div>

<div id="outline-container-org9f40a04" class="outline-2">
<h2 id="org9f40a04">Common Signatures</h2>
<div class="outline-text-2" id="text-org9f40a04">
<p>
Glyph has a set of common signatures in its' standard library. Here, I present
three, primarily to demonstrate 
</p>
</div>

<div id="outline-container-org4717f74" class="outline-3">
<h3 id="org4717f74">Functor</h3>
<div class="outline-text-3" id="text-org4717f74">
</div>
<div id="outline-container-orgedba281" class="outline-4">
<h4 id="orgedba281">Definition</h4>
<div class="outline-text-4" id="text-orgedba281">
<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #d24b83;">Functor</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">F</span> : &#119984; &#8594; &#119984;<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>map : <span style="color: #4d9391;">{</span><span style="color: #d24b83;">A B</span><span style="color: #4d9391;">}</span> &#8594; <span style="color: #4d9391;">(</span><span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">B</span><span style="color: #4d9391;">)</span> &#8594; <span style="color: #d24b83;">F A</span> &#8594; <span style="color: #d24b83;">F B</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
A Functor represents a container of elements of a single type - the defining
characteristic of a functor is that we can perform some action on every element it
contains.
</p>
</div>
</div>

<div id="outline-container-orgd51c38d" class="outline-4">
<h4 id="orgd51c38d">Examples &amp; Use-Cases</h4>
<div class="outline-text-4" id="text-orgd51c38d">
<p>
There are several more readily apparent examples of a Functor - List is a good
one, we can use <code>map (_+ 1) (list 1 2 3)</code> to get the list <code>2 3 4</code> this is also
readily extensible to other containers like sets and arrays. However,
there are some 'less obvious' examples of functors too. One is a container that
either contains a single value or indicates that an error happened (along with
an error message).
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">induct</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Err</span> <span style="color: #4d9391;">(</span><span style="color: #d24b83;">A</span> : &#119984;<span style="color: #4d9391;">)</span> : &#119984;<span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Ok</span> : <span style="color: #d24b83;">A</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Error</span> : <span style="color: #d24b83;">String</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>

<p>
For example, opening a file might return a value <code>Ok &lt;file contents&gt;</code> or an
<code>Error "file not found"</code> . We could then use <code>map</code> to only perform an action if
there has been no error.
</p>

<p>
Functors can also be useful in providing a simple interface to objects with
complex internal structure - like a promise, or remote procedure call.  
</p>
</div>
</div>
</div>

<div id="outline-container-org686dd54" class="outline-3">
<h3 id="org686dd54">Monoid</h3>
<div class="outline-text-3" id="text-org686dd54">
</div>
<div id="outline-container-orge93788e" class="outline-4">
<h4 id="orge93788e">Definition</h4>
<div class="outline-text-4" id="text-orge93788e">
<p>
A Monoid represents a type which has
</p>
<ul class="org-ul">
<li>a combining operation ⋅</li>
<li>a 'zero' element ⍬</li>
</ul>
<p>
A monoid
</p>
</div>
</div>

<div id="outline-container-orgfcd708e" class="outline-4">
<h4 id="orgfcd708e">Examples &amp; Use-Cases</h4>
<div class="outline-text-4" id="text-orgfcd708e">
<ul class="org-ul">
<li>list-mon: ⋅ = list append, ⍬ is the empty list</li>
<li>int-+-mon : ⋅ = +, ⍬ is 0</li>
<li>int-*-mon : ⋅ = *, ⍬ is 1</li>
</ul>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #9d81ba;">(</span><span style="color: #d24b83;">Monoid</span> <span style="color: #4d9391;">(</span><span style="color: #d24b83;">A</span> : &#119984;<span style="color: #4d9391;">)</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>_&#8901;_ : <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span> &#8594; <span style="color: #d24b83;">A</span><span style="color: #9d81ba;">)</span>
  <span style="color: #9d81ba;">(</span>&#9068; : <span style="color: #d24b83;">A</span><span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgacb6a28" class="outline-3">
<h3 id="orgacb6a28">Num</h3>
<div class="outline-text-3" id="text-orgacb6a28">
</div>
<div id="outline-container-org74bc374" class="outline-4">
<h4 id="org74bc374">Definition</h4>
<div class="outline-text-4" id="text-org74bc374">
<p>
Num has quite a few methods, so I'll summarize by saying that it describes
anything that looks 'number-like', i.e. has +, * ÷, -, exponentiation etc. You
can consult the library docs for more info.
</p>
</div>
</div>

<div id="outline-container-org5c29e59" class="outline-4">
<h4 id="org5c29e59">Examples</h4>
<div class="outline-text-4" id="text-org5c29e59">
<p>
There are structures defining <code>Num</code> for integers, floating-point numbers,
rationals, etc.
</p>
</div>
</div>

<div id="outline-container-org48501a2" class="outline-4">
<h4 id="org48501a2">Use-Cases</h4>
<div class="outline-text-4" id="text-org48501a2">
<p>
Num can be used anywhere you have a function which doesn't care what type of
number you're using (float/int/&#x2026;). Examples might be when using vectors or
performing some types of calculations.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org712cd94" class="outline-2">
<h2 id="org712cd94">Subtype Relation</h2>
</div>

<div id="outline-container-orgd57d19d" class="outline-2">
<h2 id="orgd57d19d">Inductive/Coinductive signatures</h2>
<div class="outline-text-2" id="text-orgd57d19d">
<p>
Signatures are 
</p>

<div class="org-src-container">
<pre class="src src-glyph"><span style="color: #807f96;">(</span><span style="color: #738FD7;">signature</span> <span style="color: #d24b83;">Point</span> &#8278;inductive
  <span style="color: #9d81ba;">(</span>x : &#8484;<span style="color: #9d81ba;">)</span> <span style="color: #9d81ba;">(</span>x : &#8484;<span style="color: #9d81ba;">)</span><span style="color: #807f96;">)</span>
</pre>
</div>
</div>
</div>
</div>
</body>
</html>
